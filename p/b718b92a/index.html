<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><title>ã€Vite+Vueã€‘å¦‚ä½•ä½¿ç”¨FFMpeg &amp; FFMpeg å¸¸ç”¨å‘½ä»¤ | Rean's Blog</title><noscript>å¼€å¯JavaScriptæ‰èƒ½è®¿é—®æœ¬ç«™å“¦~</noscript><link rel="icon" href="/img/favicon.png"><!-- index.css--><link rel="stylesheet" href="/css/index.css?v=1.8.10"><!-- inject head--><link rel="stylesheet" href="https://cdn2.codesign.qq.com/icons/7pOrz0WXB5ZWJPX/latest/iconfont.css"><!-- aplayer--><link rel="stylesheet" href="https://cdn.staticfile.net/aplayer/1.10.1/APlayer.min.css"><!-- swiper--><link rel="stylesheet" href="https://cdn.staticfile.net/Swiper/11.0.5/swiper-bundle.min.css"><!-- fancybox ui--><link rel="stylesheet" href="https://cdn.staticfile.net/fancyapps-ui/5.0.36/fancybox/fancybox.min.css"><!-- katex--><!-- Open Graph--><meta name="description" content="å®‰è£…cnpm install @ffmpeg&amp;#x2F;ffmpeg @ffmpeg&amp;#x2F;util é…ç½®vite.config.tsï¼š optimizeDeps: &amp;#123; exclude: [&amp;#x27;@ffmpeg&amp;#x2F;ffmpeg&amp;#x27;, &amp;#x27;@ffmpeg&amp;#x2F;util&amp;#x27;]"><!-- pwa--><meta name="apple-mobile-web-app-capable" content="Rean's Blog"><meta name="theme-color" content="var(--efu-main)"><meta name="apple-mobile-web-app-status-bar-style" content="var(--efu-main)"><link rel="bookmark" href="/img/favicon.png"><link rel="apple-touch-icon" href="/img/favicon.png" sizes="180x180"><script>console.log(
    "%c Program: Hexo %c Theme: Solitude %c Version: v1.8.10",
    "border-radius:5px 0 0 5px;padding: 5px 10px;color:white;background:#ff3842;",
    "padding: 5px 10px;color:white;background:#3e9f50;",
    "padding: 5px 10px;color:white;background:#0084ff;",
)
</script><script>(()=>{
        const saveToLocal = {
            set: function setWithExpiry(key, value, ttl) {
                if (ttl === 0)
                    return
                const now = new Date()
                const expiryDay = ttl * 86400000
                const item = {
                    value: value,
                    expiry: now.getTime() + expiryDay
                }
                localStorage.setItem(key, JSON.stringify(item))
            },
            get: function getWithExpiry(key) {
                const itemStr = localStorage.getItem(key)
    
                if (!itemStr) {
                    return undefined
                }
                const item = JSON.parse(itemStr)
                const now = new Date()
    
                if (now.getTime() > item.expiry) {
                    localStorage.removeItem(key)
                    return undefined
                }
                return item.value
            }
        };
        window.utils = {
            saveToLocal: saveToLocal,
            getCSS: (url, id = false) => new Promise((resolve, reject) => {
              const link = document.createElement('link')
              link.rel = 'stylesheet'
              link.href = url
              if (id) link.id = id
              link.onerror = reject
              link.onload = link.onreadystatechange = function() {
                const loadState = this.readyState
                if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
                link.onload = link.onreadystatechange = null
                resolve()
              }
              document.head.appendChild(link)
            }),
            getScript: (url, attr = {}) => new Promise((resolve, reject) => {
              const script = document.createElement('script')
              script.src = url
              script.async = true
              script.onerror = reject
              script.onload = script.onreadystatechange = function() {
                const loadState = this.readyState
                if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
                script.onload = script.onreadystatechange = null
                resolve()
              }
    
              Object.keys(attr).forEach(key => {
                script.setAttribute(key, attr[key])
              })
    
              document.head.appendChild(script)
            }),
            addGlobalFn: (key, fn, name = false, parent = window) => {
                const globalFn = parent.globalFn || {}
                const keyObj = globalFn[key] || {}
        
                if (name && keyObj[name]) return
        
                name = name || Object.keys(keyObj).length
                keyObj[name] = fn
                globalFn[key] = keyObj
                parent.globalFn = globalFn
            },
        }
    })()</script><!-- global head--><script>const GLOBAL_CONFIG = {
    root: '/',
    algolia: undefined,
    localsearch: {"preload":false,"path":"/search.xml"},
    runtime: '2024-01-05 00:00:00',
    lazyload: {
        enable: true,
        error: '/img/error_load.png'
    },
    copyright: {"limit":50,"author":"ä½œè€…: Rean","link":"é“¾æ¥: ","source":"æ¥æº: Rean's Blog","info":"è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚ å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚"},
    highlight: {
        enable: true,
        limit: 200,
        expand: true,
        copy: true,
        syntax: 'highlight.js'
    },
    randomlink: false,
    lang: {"theme":{"dark":"å·²åˆ‡æ¢è‡³æ·±è‰²æ¨¡å¼","light":"å·²åˆ‡æ¢è‡³æµ…è‰²æ¨¡å¼"},"copy":{"success":"å¤åˆ¶æˆåŠŸ","error":"å¤åˆ¶å¤±è´¥"},"backtop":"è¿”å›é¡¶éƒ¨","time":{"day":"å¤©å‰","hour":"å°æ—¶å‰","just":"åˆšåˆš","min":"åˆ†é’Ÿå‰","month":"ä¸ªæœˆå‰"},"f12":"å¼€å‘è€…æ¨¡å¼å·²æ‰“å¼€ï¼Œè¯·éµå¾ªGPLåè®®ã€‚","totalk":"æ— éœ€åˆ é™¤ç©ºè¡Œï¼Œç›´æ¥è¾“å…¥è¯„è®ºå³å¯","search":{"empty":"æ‰¾ä¸åˆ°ä½ æŸ¥è¯¢çš„å†…å®¹ï¼š${query}","hit":"æ‰¾åˆ° ${hits} æ¡ç»“æœï¼Œç”¨æ—¶ ${time} æ¯«ç§’","placeholder":"è¾“å…¥å…³é”®è¯å¿«é€ŸæŸ¥æ‰¾","count":"å…± <b>${count}</b> æ¡ç»“æœã€‚"}},
    aside: {
        sayhello: {
            morning: 'ä¸€æ—¥ä¹‹è®¡åœ¨äºæ™¨',
            noon: 'åƒé¥±äº†æ‰æœ‰åŠ›æ°”å¹²æ´»',
            afternoon: 'é›†ä¸­ç²¾åŠ›ï¼Œæ”»å…‹éš¾å…³',
            night: 'ä¸è¦å¤ªåŠ³ç´¯äº†ï¼Œæ—©ç¡æ›´å¥åº·',
            goodnight: 'ç¡ä¸ªå¥½è§‰ï¼Œä¿è¯ç²¾åŠ›å……æ²›',
        },
        sayhello2: ["ğŸ¤–ï¸ æ•°ç ç§‘æŠ€çˆ±å¥½è€…","ğŸ” åˆ†äº«ä¸çƒ­å¿ƒå¸®åŠ©","ğŸ”¨ è®¾è®¡å¼€å‘ä¸€æ¡é¾™","ğŸ® æ¸¸æˆçˆ±å¥½è€…"],
    },
    covercolor: {
        enable: true
    },
    comment: false,
    lightbox: 'fancybox',
    post_ai: false,
    right_menu: {"mode":{"dark":"æ·±è‰²æ¨¡å¼","light":"æµ…è‰²æ¨¡å¼"},"img_error":"æ­¤å›¾ç‰‡æ— æ³•å¤åˆ¶ä¸ä¸‹è½½","music":{"start":"æ’­æ”¾éŸ³ä¹","stop":"æš‚åœéŸ³ä¹"},"translate":{"translateDelay":0,"defaultEncoding":2}},
};</script><!-- page-config head--><script id="config-diff">var PAGE_CONFIG = {
    is_post: true,
    is_page: false,
    is_home: false,
    page: '',
    toc: true,
    comment: false,
    ai_text: false,
}</script><meta name="generator" content="Hexo 7.2.0"></head><body id="body"><!-- universe--><canvas id="universe"></canvas><!-- loading--><!-- console--><div id="console"><div class="close-btn" onclick="sco.hideConsole()"><i class="solitude st-close-fill"></i></div><div class="button-group"><div class="console-btn-item"><span class="darkmode_switchbutton" onclick="sco.switchDarkMode()" title="æ˜¼å¤œåˆ‡æ¢"><i class="solitude st-moon-clear-fill"></i></span></div><div class="console-btn-item" id="consoleHideAside"><span class="asideSwitch" onclick="sco.switchHideAside()" title="è¾¹æ æ˜¾ç¤ºæ§åˆ¶"><i class="solitude st-side-bar-fill"></i></span></div><div class="console-btn-item" id="consoleMusic" onclick="sco.musicToggle()"><span class="music-switch" title="éŸ³ä¹å¼€å…³"><i class="solitude st-disc-fill"></i></span></div></div><div class="console-mask" onclick="sco.hideConsole()"></div></div><!-- sidebar--><div id="sidebar" style="zoom: 1;"><div id="menu-mask" style="display: none;"></div><div id="sidebar-menus"><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">175</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length-num">11</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">155</div></a></div></div></div><span class="sidebar-menu-item-title">åŠŸèƒ½</span><div class="sidebar-menu-item"><span class="darkmode_switchbutton menu-child" onclick="sco.switchDarkMode()"><i class="solitude st-moon-clear-fill"></i><span>æ˜¾ç¤ºæ¨¡å¼</span></span></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span>æ–‡ç« </span></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="solitude  st-folder-fill"></i><span>æ–‡ç« åˆ—è¡¨</span></a></li><li><a class="site-page child" href="/categories/"><i class="solitude  st-checkbox-multiple-blank-fill"></i><span>åˆ†ç±»</span></a></li><li><a class="site-page child" href="/tags/"><i class="solitude  st-price-tag-fill"></i><span>æ ‡ç­¾</span></a></li><li><a class="site-page child" href="/study/"><i class="solitude  st-gift-fill"></i><span>å­¦ä¹ </span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span>æˆ‘çš„</span></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="solitude  st-disc-fill"></i><span>éŸ³ä¹é¦†</span></a></li><li><a class="site-page child" href="/essay/"><span>å³åˆ»çŸ­æ–‡</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span>å…³äº</span></a><ul class="menus_item_child"><li><a class="site-page child" href="/about/"><i class="solitude  st-contacts-fill"></i><span>å…³äºæœ¬ç«™</span></a></li></ul></div></div><span class="sidebar-menu-item-title">æ ‡ç­¾</span><div class="card-widget card-tags card-archives card-webinfo card-allinfo"><div class="card-tag-cloud"><a href="/tags/%E8%85%BE%E8%AE%AF/">è…¾è®¯<sup>1</sup></a><a href="/tags/%E5%90%8E%E5%8F%B0%E5%BC%80%E5%8F%91/">åå°å¼€å‘<sup>1</sup></a><a href="/tags/Markdown/">Markdown<sup>1</sup></a><a href="/tags/Butterfly/">Butterfly<sup>2</sup></a><a href="/tags/PyCharm/">PyCharm<sup>1</sup></a><a href="/tags/IDEA/">IDEA<sup>1</sup></a><a href="/tags/Git/">Git<sup>2</sup></a><a href="/tags/Halo/">Halo<sup>1</sup></a><a href="/tags/GitHub/">GitHub<sup>1</sup></a><a href="/tags/JavaFx/">JavaFx<sup>2</sup></a><a href="/tags/SpringBoot/">SpringBoot<sup>7</sup></a><a href="/tags/Java/">Java<sup>18</sup></a><a href="/tags/MyBatis/">MyBatis<sup>4</sup></a><a href="/tags/Hexo/">Hexo<sup>3</sup></a><a href="/tags/SyncTV/">SyncTV<sup>1</sup></a><a href="/tags/AList/">AList<sup>1</sup></a><a href="/tags/%E5%AE%9D%E5%A1%94/">å®å¡”<sup>3</sup></a><a href="/tags/Vue/">Vue<sup>18</sup></a><a href="/tags/Vite/">Vite<sup>6</sup></a><a href="/tags/JavaScript/">JavaScript<sup>4</sup></a><a href="/tags/TypeScript/">TypeScript<sup>3</sup></a><a href="/tags/Electron/">Electron<sup>4</sup></a><a href="/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/">æœºå™¨å­¦ä¹ <sup>1</sup></a><a href="/tags/scikit-learn/">scikit-learn<sup>1</sup></a><a href="/tags/vocalremover/">vocalremover<sup>1</sup></a><a href="/tags/BPM/">BPM<sup>1</sup></a><a href="/tags/%E9%BB%91%E7%A5%9E%E8%AF%9D%EF%BC%9A%E6%82%9F%E7%A9%BA/">é»‘ç¥è¯ï¼šæ‚Ÿç©º<sup>1</sup></a><a href="/tags/HTTP/">HTTP<sup>5</sup></a><a href="/tags/HTTPS/">HTTPS<sup>2</sup></a><a href="/tags/%E7%9F%AD%E9%93%BE/">çŸ­é“¾<sup>1</sup></a><a href="/tags/%E8%A7%86%E9%A2%91/">è§†é¢‘<sup>1</sup></a><a href="/tags/HTTP-1-1/">HTTP/1.1<sup>1</sup></a><a href="/tags/LaTex/">LaTex<sup>1</sup></a><a href="/tags/%E5%8A%A0%E5%AF%86/">åŠ å¯†<sup>1</sup></a><a href="/tags/IP/">IP<sup>2</sup></a><a href="/tags/ICMP/">ICMP<sup>1</sup></a><a href="/tags/I-O/">I/O<sup>2</sup></a><a href="/tags/JVM/">JVM<sup>2</sup></a><a href="/tags/Springboot/">Springboot<sup>1</sup></a><a href="/tags/ThreadLocal/">ThreadLocal<sup>1</sup></a><a href="/tags/UUID/">UUID<sup>1</sup></a><a href="/tags/%E5%B9%B6%E5%8F%91/">å¹¶å‘<sup>4</sup></a><a href="/tags/%E7%BA%A2%E9%BB%91%E6%A0%91/">çº¢é»‘æ ‘<sup>2</sup></a><a href="/tags/%E9%93%BE%E8%A1%A8/">é“¾è¡¨<sup>1</sup></a><a href="/tags/%E5%8A%9B%E6%89%A3/">åŠ›æ‰£<sup>1</sup></a><a href="/tags/LeetCode/">LeetCode<sup>1</sup></a><a href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/">æ•°æ®åº“<sup>8</sup></a><a href="/tags/NLP/">NLP<sup>6</sup></a><a href="/tags/spaCy/">spaCy<sup>4</sup></a><a href="/tags/Python/">Python<sup>1</sup></a><a href="/tags/Redis/">Redis<sup>10</sup></a><a href="/tags/RDB/">RDB<sup>1</sup></a><a href="/tags/AOF/">AOF<sup>1</sup></a><a href="/tags/%E7%BA%BF%E7%A8%8B/">çº¿ç¨‹<sup>2</sup></a><a href="/tags/I-O%E5%A4%9A%E8%B7%AF%E5%A4%8D%E7%94%A8/">I/Oå¤šè·¯å¤ç”¨<sup>2</sup></a><a href="/tags/Spring/">Spring<sup>5</sup></a><a href="/tags/TCP/">TCP<sup>7</sup></a><a href="/tags/UDP/">UDP<sup>1</sup></a><a href="/tags/Socket/">Socket<sup>1</sup></a><a href="/tags/FFMpeg/">FFMpeg<sup>1</sup></a><a href="/tags/%E6%A0%B7%E5%BC%8F/">æ ·å¼<sup>1</sup></a><a href="/tags/ECMAScript/">ECMAScript<sup>2</sup></a><a href="/tags/Element/">Element<sup>3</sup></a><a href="/tags/%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81/">åˆ†å¸ƒå¼é”<sup>1</sup></a><a href="/tags/%E5%91%A8%E6%B7%B1/">å‘¨æ·±<sup>5</sup></a><a href="/tags/%E5%BE%B5%E7%BE%BD%E6%91%A9%E6%9F%AF/">å¾µç¾½æ‘©æŸ¯<sup>1</sup></a><a href="/tags/%E9%9F%B3%E4%B9%90%E7%BC%98%E8%AE%A1%E5%88%92/">éŸ³ä¹ç¼˜è®¡åˆ’<sup>2</sup></a><a href="/tags/%E5%A5%A5%E6%96%AF%E5%8D%A1/">å¥¥æ–¯å¡<sup>3</sup></a><a href="/tags/%E5%BC%A0%E6%9D%B0/">å¼ æ°<sup>2</sup></a><a href="/tags/%E5%A3%B0%E7%94%9F%E4%B8%8D%E6%81%AF%C2%B7%E5%AE%9D%E5%B2%9B%E5%AD%A3/">å£°ç”Ÿä¸æ¯Â·å®å²›å­£<sup>3</sup></a><a href="/tags/%E5%BE%90%E4%BD%B3%E8%8E%B9/">å¾ä½³è¹<sup>1</sup></a><a href="/tags/SynthV/">SynthV<sup>18</sup></a><a href="/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/">æ“ä½œç³»ç»Ÿ<sup>4</sup></a><a href="/tags/%E6%B0%B8%E5%A4%9CMinus/">æ°¸å¤œMinus<sup>4</sup></a><a href="/tags/%E9%9F%A6%E7%A4%BC%E5%AE%89/">éŸ¦ç¤¼å®‰<sup>1</sup></a><a href="/tags/%E8%94%A1%E4%BE%9D%E6%9E%97/">è”¡ä¾æ—<sup>1</sup></a><a href="/tags/%E6%97%A0%E5%8F%82/">æ— å‚<sup>45</sup></a><a href="/tags/%E5%8F%A4%E9%A3%8E/">å¤é£<sup>12</sup></a><a href="/tags/%E4%B8%89%E6%97%A0Marblue/">ä¸‰æ— Marblue<sup>1</sup></a><a href="/tags/%E7%B4%A2%E5%BC%95/">ç´¢å¼•<sup>1</sup></a><a href="/tags/B%E6%A0%91/">Bæ ‘<sup>1</sup></a><a href="/tags/B-%E6%A0%91/">B+æ ‘<sup>1</sup></a><a href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/">æ•°æ®ç»“æ„<sup>1</sup></a><a href="/tags/%E6%A0%91/">æ ‘<sup>1</sup></a><a href="/tags/%E4%BA%8C%E5%8F%89%E6%A0%91/">äºŒå‰æ ‘<sup>1</sup></a><a href="/tags/%E8%AE%B8%E9%92%A7/">è®¸é’§<sup>1</sup></a><a href="/tags/%E6%AD%8C%E6%89%8B2024/">æ­Œæ‰‹2024<sup>37</sup></a><a href="/tags/Chante-Moore/">ChantÃ© Moore<sup>2</sup></a><a href="/tags/%E9%BB%84%E5%AE%A3/">é»„å®£<sup>1</sup></a><a href="/tags/Faouzia/">Faouzia<sup>4</sup></a><a href="/tags/Lenka/">Lenka<sup>1</sup></a><a href="/tags/%E5%BC%A0%E9%92%B0%E7%90%AA/">å¼ é’°çª<sup>1</sup></a><a href="/tags/%E9%82%A3%E8%8B%B1/">é‚£è‹±<sup>9</sup></a><a href="/tags/%E5%B0%A4%E9%95%BF%E9%9D%96/">å°¤é•¿é–<sup>2</sup></a><a href="/tags/%E5%AD%99%E6%A5%A0/">å­™æ¥ <sup>5</sup></a><a href="/tags/%E8%B0%AD%E7%BB%B4%E7%BB%B4/">è°­ç»´ç»´<sup>3</sup></a><a href="/tags/%E5%B4%A9%E5%9D%8F%EF%BC%9A%E6%98%9F%E7%A9%B9%E9%93%81%E9%81%93/">å´©åï¼šæ˜Ÿç©¹é“é“<sup>4</sup></a><a href="/tags/%E8%B5%A4%E7%BE%BD/">èµ¤ç¾½<sup>1</sup></a><a href="/tags/%E6%B1%AA%E8%8B%8F%E6%B3%B7/">æ±ªè‹æ³·<sup>4</sup></a><a href="/tags/%E5%A3%B0%E7%94%9F%E4%B8%8D%E6%81%AF%C2%B7%E5%AE%B6%E5%B9%B4%E5%8D%8E/">å£°ç”Ÿä¸æ¯Â·å®¶å¹´å<sup>2</sup></a><a href="/tags/%E9%99%88%E6%A5%9A%E7%94%9F/">é™ˆæ¥šç”Ÿ<sup>2</sup></a><a href="/tags/%E9%99%88%E4%BA%A6%E6%B4%BA/">é™ˆäº¦æ´º<sup>1</sup></a><a href="/tags/%E5%B0%9A%E8%BE%B0/">å°šè¾°<sup>1</sup></a><a href="/tags/%E5%BF%98%E5%B7%9D%E9%A3%8E%E5%8D%8E%E5%BD%95/">å¿˜å·é£åå½•<sup>2</sup></a><a href="/tags/%E4%B9%90%E6%AD%A3%E9%BE%99%E7%89%99/">ä¹æ­£é¾™ç‰™<sup>1</sup></a><a href="/tags/%E6%98%9F%E5%B0%98Infinity/">æ˜Ÿå°˜Infinity<sup>2</sup></a><a href="/tags/%E6%98%8E%E6%97%A5%E6%96%B9%E8%88%9F/">æ˜æ—¥æ–¹èˆŸ<sup>3</sup></a><a href="/tags/%E7%A5%96%E5%A8%85%E7%BA%B3%E6%83%9C/">ç¥–å¨…çº³æƒœ<sup>1</sup></a><a href="/tags/%E7%94%B5%E5%AD%90/">ç”µå­<sup>1</sup></a><a href="/tags/%E6%98%9F%E5%B0%98/">æ˜Ÿå°˜<sup>4</sup></a><a href="/tags/%E5%BC%A0%E4%BF%A1%E5%93%B2/">å¼ ä¿¡å“²<sup>2</sup></a><a href="/tags/%E9%93%B6%E4%B8%B4/">é“¶ä¸´<sup>1</sup></a><a href="/tags/%E6%9D%8E%E5%B8%B8%E8%B6%85/">æå¸¸è¶…<sup>1</sup></a><a href="/tags/%E5%B1%B1%E8%89%B2%E6%9C%89%E6%97%A0%E4%B8%AD/">å±±è‰²æœ‰æ— ä¸­<sup>1</sup></a><a href="/tags/%E5%91%A8%E6%9D%B0%E4%BC%A6/">å‘¨æ°ä¼¦<sup>1</sup></a><a href="/tags/%E9%BB%84%E9%9C%84%E9%9B%B2/">é»„éœ„é›²<sup>1</sup></a><a href="/tags/%E5%AE%B9%E7%A5%96%E5%84%BF/">å®¹ç¥–å„¿<sup>1</sup></a><a href="/tags/%E6%88%91%E6%98%AF%E6%AD%8C%E6%89%8B%C2%B7%E7%AC%AC%E5%9B%9B%E5%AD%A3/">æˆ‘æ˜¯æ­Œæ‰‹Â·ç¬¬å››å­£<sup>1</sup></a><a href="/tags/%E6%9D%8E%E5%85%8B%E5%8B%A4/">æå…‹å‹¤<sup>1</sup></a><a href="/tags/%E7%B2%A4%E8%AF%AD/">ç²¤è¯­<sup>2</sup></a><a href="/tags/%E9%BB%84%E4%B8%BD%E7%8E%B2/">é»„ä¸½ç²<sup>1</sup></a><a href="/tags/G-E-M-%E9%82%93%E7%B4%AB%E6%A3%8B/">G.E.M.é‚“ç´«æ£‹<sup>6</sup></a><a href="/tags/T-I-M-E/">T.I.M.E.<sup>4</sup></a><a href="/tags/%E6%97%B6%E5%85%89%E9%9F%B3%E4%B9%90%E4%BC%9A%C2%B7%E8%80%81%E5%8F%8B%E8%AE%B0/">æ—¶å…‰éŸ³ä¹ä¼šÂ·è€å‹è®°<sup>4</sup></a><a href="/tags/%E5%BC%A0%E5%AD%A6%E5%8F%8B/">å¼ å­¦å‹<sup>1</sup></a><a href="/tags/%E6%9D%A8%E4%B8%9E%E7%90%B3/">æ¨ä¸ç³<sup>1</sup></a><a href="/tags/%E6%B1%AA%E5%B3%B0/">æ±ªå³°<sup>1</sup></a><a href="/tags/%E6%9C%AA%E5%AE%9A%E4%BA%8B%E4%BB%B6%E7%B0%BF/">æœªå®šäº‹ä»¶ç°¿<sup>1</sup></a><a href="/tags/%E5%BC%A0%E8%BF%9C/">å¼ è¿œ<sup>1</sup></a><a href="/tags/%E5%AD%99%E7%87%95%E5%A7%BF/">å­™ç‡•å§¿<sup>1</sup></a><a href="/tags/%E6%B5%B7%E6%9D%A5%E9%98%BF%E6%9C%A8/">æµ·æ¥é˜¿æœ¨<sup>1</sup></a><a href="/tags/%E6%9B%B9%E6%9D%A8/">æ›¹æ¨<sup>3</sup></a><a href="/tags/%E4%B8%8B%E4%B8%80%E6%88%98%E6%AD%8C%E6%89%8B/">ä¸‹ä¸€æˆ˜æ­Œæ‰‹<sup>3</sup></a><a href="/tags/Fine%E4%B9%90%E5%9B%A2/">Fineä¹å›¢<sup>1</sup></a><a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/">è®¡ç®—æœºç½‘ç»œ<sup>4</sup></a><a href="/tags/DNS/">DNS<sup>1</sup></a><a href="/tags/MAC/">MAC<sup>1</sup></a><a href="/tags/Adam-Lambert/">Adam Lambert<sup>1</sup></a><a href="/tags/%E4%BA%9A%E5%BD%93%C2%B7%E5%85%B0%E4%BC%AF%E7%89%B9/">äºšå½“Â·å…°ä¼¯ç‰¹<sup>1</sup></a><a href="/tags/Hayden/">Hayden<sup>1</sup></a><a href="/tags/%E6%9A%AE%E5%A4%9C/">æš®å¤œ<sup>1</sup></a><a href="/tags/ACE-Studio/">ACE Studio<sup>2</sup></a><a href="/tags/%E5%B0%9A%E9%9B%AF%E5%A9%95/">å°šé›¯å©•<sup>1</sup></a><a href="/tags/%E4%B8%9C%E6%96%B9%E6%A0%80%E5%AD%90/">ä¸œæ–¹æ €å­<sup>2</sup></a><a href="/tags/%E9%BB%84%E7%BB%AE%E7%8F%8A/">é»„ç»®çŠ<sup>1</sup></a><a href="/tags/%E5%8D%8E%E6%99%A8%E5%AE%87/">åæ™¨å®‡<sup>1</sup></a><a href="/tags/JUN/">JUN<sup>1</sup></a><a href="/tags/%E6%9E%97%E5%BF%86%E8%8E%B2/">æ—å¿†è²<sup>1</sup></a><a href="/tags/UTAU/">UTAU<sup>1</sup></a><a href="/tags/Sheena/">Sheena<sup>1</sup></a><a href="/tags/%E5%89%A7%E5%A5%BD%E5%90%AC%E7%9A%84%E6%AD%8C/">å‰§å¥½å¬çš„æ­Œ<sup>1</sup></a><a href="/tags/Syncthing/">Syncthing<sup>1</sup></a><a href="/tags/%E5%90%8C%E6%AD%A5/">åŒæ­¥<sup>1</sup></a><a href="/tags/%E6%94%AF%E4%BB%98%E5%AE%9D/">æ”¯ä»˜å®<sup>1</sup></a><a href="/tags/Apifox/">Apifox<sup>2</sup></a></div></div></div></div><!-- keyboard--><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav class="show" id="nav"><div id="nav-group"><div id="blog_name"><a id="site-name" href="/" title="è¿”å›åšå®¢ä¸»é¡µ"><span class="title">Rean's Blog</span></a></div><div id="page-name-mask"><div id="page-name"><a id="page-name-text" onclick="sco.toTop()">ã€Vite+Vueã€‘å¦‚ä½•ä½¿ç”¨FFMpeg &amp; FFMpeg å¸¸ç”¨å‘½ä»¤</a></div></div><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span>æ–‡ç« </span></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="solitude  st-folder-fill"></i><span>æ–‡ç« åˆ—è¡¨</span></a></li><li><a class="site-page child" href="/categories/"><i class="solitude  st-checkbox-multiple-blank-fill"></i><span>åˆ†ç±»</span></a></li><li><a class="site-page child" href="/tags/"><i class="solitude  st-price-tag-fill"></i><span>æ ‡ç­¾</span></a></li><li><a class="site-page child" href="/study/"><i class="solitude  st-gift-fill"></i><span>å­¦ä¹ </span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span>æˆ‘çš„</span></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="solitude  st-disc-fill"></i><span>éŸ³ä¹é¦†</span></a></li><li><a class="site-page child" href="/essay/"><span>å³åˆ»çŸ­æ–‡</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span>å…³äº</span></a><ul class="menus_item_child"><li><a class="site-page child" href="/about/"><i class="solitude  st-contacts-fill"></i><span>å…³äºæœ¬ç«™</span></a></li></ul></div></div></div><div id="nav-left"></div><div id="nav-right"><div class="nav-button" id="randomPost_button"><a class="site-page" onclick="toRandomPost()" title="éšæœºä¸€ç¯‡æ–‡ç« " href="javascript:void(0);"><i class="solitude st-signal-tower-fill"></i></a></div><div class="nav-button" id="search-button"><a class="site-page social-icon search" href="javascript:void(0);" title="æœç´¢"><i class="solitude st-search-line"></i></a></div><div class="nav-button" id="nav-console"><a class="console_switchbutton" onclick="sco.showConsole()" title="ä¸­æ§å°" href="javascript:void(0);"><i class="solitude st-dashboard-fill"></i></a></div><div class="nav-button" id="nav-totop" onclick="sco.toTop()"><a class="totopbtn"><i class="solitude st-arrow-up-line"></i><span id="percent">0</span></a></div><div id="toggle-menu"><a class="site-page"><i class="solitude st-menu-line"></i></a></div></div></div></nav><div class="coverdiv" id="coverdiv"><img class="nolazyload" id="post-cover" src="https://npm.elemecdn.com/justlovesmile-photo/darkmodepicture7.jpg" alt="ã€Vite+Vueã€‘å¦‚ä½•ä½¿ç”¨FFMpeg &amp; FFMpeg å¸¸ç”¨å‘½ä»¤"></div><div id="post-info"><div id="post-firstinfo"><div class="meta-firstline"><a class="post-meta-original" title="è¯¥æ–‡ç« ä¸ºåŸåˆ›æ–‡ç« ï¼Œæ³¨æ„ç‰ˆæƒåè®®">åŸåˆ›</a><span class="post-meta-categories"><a class="post-meta-categories" href="/categories/%E6%95%99%E7%A8%8B/">æ•™ç¨‹</a></span><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Vue/"><span class="tags-name tags-punctuation">Vue</span></a><a class="post-meta__tags" href="/tags/Vite/"><span class="tags-name tags-punctuation">Vite</span></a><a class="post-meta__tags" href="/tags/FFMpeg/"><span class="tags-name tags-punctuation">FFMpeg</span></a></div></div></div></div><h1 class="post-title">ã€Vite+Vueã€‘å¦‚ä½•ä½¿ç”¨FFMpeg &amp; FFMpeg å¸¸ç”¨å‘½ä»¤</h1><div id="post-meta"><div class="meta-secondline"><span class="post-meta-date" title="å‘å¸ƒäº 2024-04-12 17:01:28"><i class="post-meta-icon solitude st-calendar-todo-fill"></i><time datetime="2024-04-12T09:01:28.000Z">2024-04-12T09:01:28.000Z</time></span><span class="post-meta-date" title="æœ€åæ›´æ–°äº 2024-12-17 21:59:02"><i class="post-meta-icon solitude st-refresh-line"></i><time datetime="2024-12-17T13:59:02.955Z">2024-12-17T13:59:02.955Z</time></span><span class="post-meta-wordcount"><i class="post-meta-icon solitude st-word-fill" title="æ–‡ç« å­—æ•°"></i><span class="word-count">2.7k</span><span class="post-meta-separator"></span><i class="post-meta-icon solitude st-clock-fill" title="é˜…è¯»è€—æ—¶"></i><span>11 min</span></span><a class="post-meta-pv" href="/p/b718b92a/" title="æ–‡ç« çƒ­åº¦"><i class="post-meta-icon solitude st-fire-fill"></i><span id="busuanzi_page_pv"><i class="solitude st-loading-line"></i></span></a></div></div></div><section class="main-hero-waves-area waves-area"><svg class="waves-svg" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M -160 44 c 30 0 58 -18 88 -18 s 58 18 88 18 s 58 -18 88 -18 s 58 18 88 18 v 44 h -352 Z"></path></defs><g class="parallax"><use href="#gentle-wave" x="48" y="0"></use><use href="#gentle-wave" x="48" y="3"></use><use href="#gentle-wave" x="48" y="5"></use><use href="#gentle-wave" x="48" y="7"></use></g></svg></section></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h1><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">cnpm install @ffmpeg/ffmpeg @ffmpeg/util</span><br></pre></td></tr></table></figure>

<p>é…ç½®<code>vite.config.ts</code>ï¼š</p>
<figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="attr">optimizeDeps</span>: &#123;</span><br><span class="line">    <span class="attr">exclude</span>: [<span class="string">&#x27;@ffmpeg/ffmpeg&#x27;</span>, <span class="string">&#x27;@ffmpeg/util&#x27;</span>]</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure>

<h1 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h1><p>2024&#x2F;06&#x2F;16 æ›´æ–°</p>
<h2 id="åˆå§‹åŒ–ï¼ˆåœ¨çº¿åŠ è½½ï¼‰"><a href="#åˆå§‹åŒ–ï¼ˆåœ¨çº¿åŠ è½½ï¼‰" class="headerlink" title="åˆå§‹åŒ–ï¼ˆåœ¨çº¿åŠ è½½ï¼‰"></a>åˆå§‹åŒ–ï¼ˆåœ¨çº¿åŠ è½½ï¼‰</h2><figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">FFmpeg</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@ffmpeg/ffmpeg&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="keyword">type</span> &#123; <span class="title class_">LogEvent</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@ffmpeg/ffmpeg/dist/esm/types&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123; fetchFile, toBlobURL &#125; <span class="keyword">from</span> <span class="string">&#x27;@ffmpeg/util&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> baseURL = <span class="string">&#x27;https://unpkg.com/@ffmpeg/core-mt@0.12.6/dist/esm&#x27;</span></span><br><span class="line"><span class="keyword">const</span> ffmpeg = <span class="keyword">new</span> <span class="title class_">FFmpeg</span>();</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">initFFMpeg</span>=<span class="keyword">async</span> (<span class="params"></span>)=&gt;&#123;</span><br><span class="line">        ffmpeg.<span class="title function_">on</span>(<span class="string">&#x27;log&#x27;</span>, <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(e.<span class="property">message</span>);</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">await</span> ffmpeg.<span class="title function_">load</span>(&#123;</span><br><span class="line">            <span class="attr">coreURL</span>: <span class="keyword">await</span> <span class="title function_">toBlobURL</span>(<span class="string">`<span class="subst">$&#123;baseURL&#125;</span>/ffmpeg-core.js`</span>, <span class="string">&#x27;text/javascript&#x27;</span>),</span><br><span class="line">            <span class="attr">wasmURL</span>: <span class="keyword">await</span> <span class="title function_">toBlobURL</span>(<span class="string">`<span class="subst">$&#123;baseURL&#125;</span>/ffmpeg-core.wasm`</span>, <span class="string">&#x27;application/wasm&#x27;</span>),</span><br><span class="line">            <span class="attr">workerURL</span>: <span class="keyword">await</span> <span class="title function_">toBlobURL</span>(<span class="string">`<span class="subst">$&#123;baseURL&#125;</span>/ffmpeg-core.worker.js`</span>, <span class="string">&#x27;text/javascript&#x27;</span>)</span><br><span class="line">        &#125;)</span><br><span class="line">        <span class="title class_">ElMessage</span>.<span class="title function_">success</span>(<span class="string">&#x27;FFMpeg å·²åŠ è½½&#x27;</span>)</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>å…¶ä¸­è¿™é‡Œæ˜¯é€šè¿‡ç½‘ç»œåŠ è½½<code>FFMpeg</code>çš„æ ¸å¿ƒç­‰ç­‰ï¼Œå¼€å‘ç¯å¢ƒä¸‹é…ç½®<code>vite.config.ts</code>å¯ä»¥æ­£å¸¸åŠ è½½ï¼Œä½†æ˜¯ç”Ÿäº§ç¯å¢ƒï¼ˆæ‰“åŒ…åï¼‰å°†ä¼š<strong>æ— æ³•åŠ è½½</strong></p>
<figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="attr">server</span>: &#123;</span><br><span class="line">    <span class="attr">headers</span>: &#123;</span><br><span class="line">      <span class="string">&#x27;Cross-Origin-Opener-Policy&#x27;</span>: <span class="string">&#x27;same-origin&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;Cross-Origin-Embedder-Policy&#x27;</span>: <span class="string">&#x27;require-corp&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<p>åŸå› ï¼šè¿™é‡Œé¢è¦è·å–çš„<code>wasm</code>æ¯”è¾ƒå¤§ï¼ˆpsï¼šè·å–ä¸¤ä¸ªjsæ²¡é—®é¢˜ï¼‰ï¼Œéœ€è¦ç”¨åˆ°<code>SharedArrayBuffer</code>ï¼Œè€Œ<code>SharedArrayBuffer</code>éœ€è¦<strong>å¼€å¯äº†è·¨åŸŸéš”ç¦»</strong>æ‰èƒ½æ­£å¸¸ä½¿ç”¨ï¼ˆåœ¨æ§åˆ¶å°ä¸­è¾“å…¥ <code>crossOriginIsolated</code> å›è½¦ï¼Œä¸º falseï¼Œåˆ™è¯´æ˜å¹¶æ²¡æœ‰å¼€å¯è·¨åŸŸéš”ç¦»ï¼‰ï¼Œè€Œä¸Šé¢çš„è®¾ç½®ä»…å¯¹å¼€å‘ç¯å¢ƒæœ‰æ•ˆï¼Œç”Ÿäº§ç¯å¢ƒä¸èµ·ä½œç”¨ã€‚æˆ–è®¸åœ¨<code>Nginx</code>é‡Œé¢é…ç½®å¯ä»¥è§£å†³ï¼Œä½†æ˜¯è¿™é‡Œä¸ä½œç ”ç©¶äº†ï¼Œå› ä¸ºæˆ‘è¿™é‡Œè¦åšçš„æ˜¯ä¸€ä¸ªæ¡Œé¢åº”ç”¨ç¨‹åºï¼Œè€Œä¸æ˜¯ç½‘ç«™</p>
<h2 id="åˆå§‹åŒ–ï¼ˆé™æ€èµ„æºåŠ è½½ï¼‰"><a href="#åˆå§‹åŒ–ï¼ˆé™æ€èµ„æºåŠ è½½ï¼‰" class="headerlink" title="åˆå§‹åŒ–ï¼ˆé™æ€èµ„æºåŠ è½½ï¼‰"></a>åˆå§‹åŒ–ï¼ˆé™æ€èµ„æºåŠ è½½ï¼‰</h2><p>æŠŠåŠ è½½è¿‡ç¨‹ä¸­ç”¨åˆ°çš„ä¸‰ä¸ªæ–‡ä»¶æ”¾åˆ°<code>public</code>æ–‡ä»¶å¤¹</p>
<p><img src= "/img/spin.svg" data-lazy-src="https://rean-blog-bucket.oss-cn-guangzhou.aliyuncs.com/assets/essay/841106e2f7ed4f6da5f194a5b36f589b.png" alt="img"></p>
<p>ç„¶ååŠ è½½å°±å¯ä»¥äº†</p>
<figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">FFmpeg</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@ffmpeg/ffmpeg&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="keyword">type</span> &#123; <span class="title class_">LogEvent</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@ffmpeg/ffmpeg/dist/esm/types&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123; fetchFile, toBlobURL &#125; <span class="keyword">from</span> <span class="string">&#x27;@ffmpeg/util&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> ffmpeg = <span class="keyword">new</span> <span class="title class_">FFmpeg</span>();</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">initFFMpeg</span>=<span class="keyword">async</span> (<span class="params"></span>)=&gt;&#123;</span><br><span class="line">        ffmpeg.<span class="title function_">on</span>(<span class="string">&#x27;log&#x27;</span>, <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(e.<span class="property">message</span>);</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">await</span> ffmpeg.<span class="title function_">load</span>(&#123;</span><br><span class="line">            <span class="attr">coreURL</span>: <span class="keyword">await</span> <span class="title function_">toBlobURL</span>(<span class="string">`./ffmpeg-core.js`</span>, <span class="string">&#x27;text/javascript&#x27;</span>),</span><br><span class="line">            <span class="attr">wasmURL</span>: <span class="keyword">await</span> <span class="title function_">toBlobURL</span>(<span class="string">`./ffmpeg-core.wasm`</span>, <span class="string">&#x27;application/wasm&#x27;</span>),</span><br><span class="line">            <span class="attr">workerURL</span>: <span class="keyword">await</span> <span class="title function_">toBlobURL</span>(<span class="string">`./ffmpeg-core.worker.js`</span>, <span class="string">&#x27;text/javascript&#x27;</span>)</span><br><span class="line">        &#125;)</span><br><span class="line">        <span class="title class_">ElMessage</span>.<span class="title function_">success</span>(<span class="string">&#x27;FFMpeg å·²åŠ è½½&#x27;</span>)</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>è¿™ä¹ˆåšçš„è¯å¼€å‘ç¯å¢ƒå’Œç”Ÿäº§ç¯å¢ƒéƒ½æ²¡é—®é¢˜ï¼Œåªæ˜¯æ‰“åŒ…åä½“ç§¯ä¼šå˜å¤§ä¸€ç‚¹</p>
<p>è¿˜æœ‰ä¸€ä¸ªç¼ºç‚¹çš„è¯ï¼Œäº²æµ‹å¦‚æœéè¦éƒ¨ç½²åˆ°æœåŠ¡å™¨ä¸Šå½“ä¸€ä¸ªç½‘ç«™æ¥ç”¨ï¼ŒåŠ è½½çš„æ—¶å€™ä¼š<strong>é å¸¸ æ…¢</strong>ï¼ˆä½†ä¹Ÿæ€»æ¯”è·å–ä¸äº†<code>wasm</code>å¥½ï¼ˆï¼ˆï¼ˆ</p>
<h2 id="ä½¿ç”¨-1"><a href="#ä½¿ç”¨-1" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h2><figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="attr">raw</span>:<span class="title class_">File</span>=audioList.<span class="property">value</span>.<span class="title function_">find</span>(<span class="function"><span class="params">obj</span>=&gt;</span>obj.<span class="property">name</span>===row.<span class="property">name</span>)?.<span class="property">raw</span></span><br><span class="line"><span class="keyword">await</span> ffmpeg.<span class="title function_">writeFile</span>(row.<span class="property">name</span>, <span class="keyword">await</span> <span class="title function_">fetchFile</span>(raw))</span><br><span class="line"><span class="keyword">await</span> ffmpeg.<span class="title function_">exec</span>([<span class="string">&#x27;-i&#x27;</span>,row.<span class="property">name</span>,<span class="string">&#x27;-ar&#x27;</span>,row.<span class="property">sample</span>,<span class="string">&#x27;-acodec&#x27;</span>,row.<span class="property">bit</span>,exportName])</span><br><span class="line"><span class="keyword">const</span> data=<span class="keyword">await</span> ffmpeg.<span class="title function_">readFile</span>(exportName)</span><br><span class="line"><span class="keyword">const</span> exportPath=<span class="variable constant_">URL</span>.<span class="title function_">createObjectURL</span>(<span class="keyword">new</span> <span class="title class_">Blob</span>([(data <span class="keyword">as</span> <span class="title class_">Uint8Array</span>).<span class="property">buffer</span>],&#123;<span class="attr">type</span>:<span class="string">&#x27;audio/wav&#x27;</span>&#125;))</span><br></pre></td></tr></table></figure>

<p><code>fetchFile</code>é‡Œé¢å¯ä»¥ä¼ å…¥Fileå¯¹è±¡ï¼Œä¹Ÿå¯ä»¥ä¼ å…¥ä¸€ä¸ªURL</p>
<p><code>exec</code>ä¸º<code>FFMpeg</code>æ‰§è¡Œå‘½ä»¤çš„å‡½æ•°ï¼Œä¸å¹³å¸¸ä½¿ç”¨å·®ä¸å¤šï¼Œä½†æ˜¯è¿™é‡Œæ˜¯é€šè¿‡æ•°ç»„å°†å‚æ•°åˆ†å¼€çš„</p>
<h2 id="å·²çŸ¥é—®é¢˜"><a href="#å·²çŸ¥é—®é¢˜" class="headerlink" title="å·²çŸ¥é—®é¢˜"></a>å·²çŸ¥é—®é¢˜</h2><p>ç›®å‰æˆ‘åœ¨ä½¿ç”¨ä¸­é‡åˆ°çš„é—®é¢˜æœ‰ï¼š</p>
<ul>
<li>è½¬æ¢è§†é¢‘æ—¶<code>-s</code>å‚æ•°æ— æ•ˆï¼ˆæˆ–è€…è¯´å’Œæ”¹å˜åˆ†è¾¨ç‡å‚æ•°ç›¸å…³çš„éƒ½æ— æ•ˆï¼Œæ€»ä¹‹å°±æ˜¯æ— æ³•æ”¹å˜è§†é¢‘åˆ†è¾¨ç‡ï¼‰</li>
<li>è½¬æ¢è§†é¢‘æ—¶é€Ÿåº¦å·¨æ…¢</li>
</ul>
<p>è¿™ä¸¤ä¸ªé—®é¢˜åœ¨ä½¿ç”¨<code>çœŸÂ·FFMpeg</code>æ—¶æ˜¯æ²¡æœ‰é—®é¢˜çš„ï¼Œå¯èƒ½æ˜¯æ’ä»¶çš„bugå§~</p>
<p>2024&#x2F;07&#x2F;02æ›´æ–°ï¼š</p>
<p>ç¼–ç é€Ÿåº¦æ…¢è¿™ä¸ªé—®é¢˜ï¼Œå…¶å®åœ¨å®˜ç½‘çš„FAQå°±æœ‰ï¼ˆ</p>
<h3 id="Why-ffmpeg-wasm-is-so-slow-comparing-to-ffmpeg"><a href="#Why-ffmpeg-wasm-is-so-slow-comparing-to-ffmpeg" class="headerlink" title="Why ffmpeg.wasm is so slow comparing to ffmpeg?"></a>Why ffmpeg.wasm is so slow comparing to ffmpeg?</h3><p>As of now, WebAssembly is still a lot slower than native, it is possible to further speed up using WebAssembly intrinsic, which is basically writing assembly code. It is something we are investigating and hope to introduce in the future.</p>
<p>If you are OK with more unstable version of ffmpeg.wasm, using ffmpeg.wasm multithread (mt) version can have around 2x speed comparing to single thread (but consume a lot more memory and cpu)</p>
<h1 id="FFMpeg-å¸¸ç”¨å‘½ä»¤"><a href="#FFMpeg-å¸¸ç”¨å‘½ä»¤" class="headerlink" title="FFMpeg å¸¸ç”¨å‘½ä»¤"></a>FFMpeg å¸¸ç”¨å‘½ä»¤</h1><h2 id="æŠ½å–éŸ³é¢‘"><a href="#æŠ½å–éŸ³é¢‘" class="headerlink" title="æŠ½å–éŸ³é¢‘"></a>æŠ½å–éŸ³é¢‘</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">ffmpeg -i input.mp4 -vn -c:a copy output.aac</span><br></pre></td></tr></table></figure>

<p><code>-vn</code>è¡¨ç¤ºno videoï¼Œ<code>-c:a</code> æ˜¯<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=codec&spm=1001.2101.3001.7020">codec</a> of audioçš„æ„æ€ï¼Œ<code>copy</code>æ˜¯ç›´æ¥æ‹·è´è§†é¢‘ä¸­çš„åŸå§‹çš„éŸ³é¢‘ï¼Œè¿™é‡Œä¸ä¼šæ¶‰åŠéŸ³é¢‘çš„ç¼–è§£ç ï¼Œé€Ÿåº¦ä¼šå¾ˆå¿«ã€‚</p>
<p>ä¹Ÿå¯ä»¥æŒ‡å®šæ ¼å¼</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">ffmpeg -i input.mp4 -vn -b:a 128k -ar 44k -c:a mp3 output.mp3</span><br></pre></td></tr></table></figure>

<h2 id="æŠ½å–è§†é¢‘"><a href="#æŠ½å–è§†é¢‘" class="headerlink" title="æŠ½å–è§†é¢‘"></a>æŠ½å–è§†é¢‘</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">ffmpeg -i input.mp4 -an -c:v copy output.mp4</span><br></pre></td></tr></table></figure>

<p><code>-an</code>è¡¨ç¤ºno audioï¼Œå…¶ä»–å…³äºè§†é¢‘çš„å‚æ•°éƒ½å¯ä»¥ä½¿ç”¨</p>
<h2 id="æŸ¥çœ‹ä¿¡æ¯"><a href="#æŸ¥çœ‹ä¿¡æ¯" class="headerlink" title="æŸ¥çœ‹ä¿¡æ¯"></a>æŸ¥çœ‹ä¿¡æ¯</h2><p>ä¸»è¦ç”¨åˆ°<code>ffprobe</code>ï¼Œä½†æ˜¯è¿™ä¸ªæ’ä»¶ä¼¼ä¹å¹¶æ²¡æœ‰æä¾›</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">ffprobe video.mp4</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">ffprobe -show_format ~/Downloads/2018121051.mp4</span><br></pre></td></tr></table></figure>

<p>ä¸Šè¿°å‘½ä»¤å¯ä»¥è¾“å‡ºæ ¼å¼ä¿¡æ¯format_nameã€æ—¶é—´é•¿åº¦durationã€æ–‡ä»¶å¤§å°sizeã€æ¯”ç‰¹ç‡bit_rateã€æµçš„æ•°ç›®nb_streamsç­‰ã€‚</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">ffprobe -print_format json -show_streams 2018121051.mp4</span><br></pre></td></tr></table></figure>

<p>ä¸Šè¿°å‘½ä»¤å¯ä»¥ä»¥JSONæ ¼å¼çš„å½¢å¼è¾“å‡ºå…·ä½“æ¯ä¸€ä¸ªæµæœ€è¯¦ç»†çš„ä¿¡æ¯ï¼Œè§†é¢‘ä¸­ä¼šæœ‰è§†é¢‘çš„å®½é«˜ä¿¡æ¯ã€æ˜¯å¦æœ‰bå¸§ã€è§†é¢‘å¸§çš„æ€»æ•°ç›®ã€è§†é¢‘çš„ç¼–ç æ ¼å¼ã€æ˜¾ç¤ºæ¯”ä¾‹ã€æ¯”ç‰¹ç‡ç­‰ä¿¡æ¯ï¼ŒéŸ³é¢‘ä¸­ä¼šæœ‰éŸ³é¢‘çš„ç¼–ç æ ¼å¼ã€è¡¨ç¤ºæ ¼å¼ã€å£°é“æ•°ã€æ—¶é—´é•¿åº¦ã€æ¯”ç‰¹ç‡ã€å¸§çš„æ€»æ•°ç›®ç­‰ä¿¡æ¯</p>
<h2 id="è½¬æ¢ç¼–ç "><a href="#è½¬æ¢ç¼–ç " class="headerlink" title="è½¬æ¢ç¼–ç "></a>è½¬æ¢ç¼–ç </h2><p>è½¬æ¢ç¼–ç æ ¼å¼ï¼ˆtranscodingï¼‰æŒ‡çš„æ˜¯ï¼Œ å°†è§†é¢‘æ–‡ä»¶ä»ä¸€ç§ç¼–ç è½¬æˆå¦ä¸€ç§ç¼–ç ã€‚æ¯”å¦‚è½¬æˆ H.264 ç¼–ç ï¼Œä¸€èˆ¬ä½¿ç”¨ç¼–ç å™¨<code>libx264</code>ï¼Œæ‰€ä»¥åªéœ€æŒ‡å®šè¾“å‡ºæ–‡ä»¶çš„è§†é¢‘ç¼–ç å™¨å³å¯ã€‚</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">ffmpeg -i [input.file] -c:v libx264 output.mp4</span><br></pre></td></tr></table></figure>

<h2 id="è½¬æ¢å®¹å™¨"><a href="#è½¬æ¢å®¹å™¨" class="headerlink" title="è½¬æ¢å®¹å™¨"></a>è½¬æ¢å®¹å™¨</h2><p>è½¬æ¢å®¹å™¨æ ¼å¼ï¼ˆtransmuxingï¼‰æŒ‡çš„æ˜¯ï¼Œå°†è§†é¢‘æ–‡ä»¶ä»ä¸€ç§å®¹å™¨è½¬åˆ°å¦ä¸€ç§å®¹å™¨ã€‚ä¸‹é¢æ˜¯ mp4 è½¬ webm çš„å†™æ³•ã€‚</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">ffmpeg -i input.mp4 -c copy output.webm</span><br></pre></td></tr></table></figure>

<h2 id="ä½¿ç”¨é¢„è®¾-preset"><a href="#ä½¿ç”¨é¢„è®¾-preset" class="headerlink" title="ä½¿ç”¨é¢„è®¾ -preset"></a>ä½¿ç”¨é¢„è®¾ -preset</h2><p><strong>â€“preset</strong>çš„å‚æ•°ä¸»è¦è°ƒèŠ‚ç¼–ç é€Ÿåº¦å’Œè´¨é‡çš„å¹³è¡¡ï¼Œæœ‰ultrafastï¼ˆè½¬ç é€Ÿåº¦æœ€å¿«ï¼Œè§†é¢‘å¾€å¾€ä¹Ÿæœ€æ¨¡ç³Šï¼‰ã€superfastã€veryfastã€<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=faster&spm=1001.2101.3001.7020">faster</a>ã€fastã€mediumã€slowã€slowerã€veryslowã€placeboè¿™10ä¸ªé€‰é¡¹ï¼Œä»å¿«åˆ°æ…¢ã€‚</p>
<h2 id="éŸ³é¢‘å¸¸ç”¨å‘½ä»¤"><a href="#éŸ³é¢‘å¸¸ç”¨å‘½ä»¤" class="headerlink" title="éŸ³é¢‘å¸¸ç”¨å‘½ä»¤"></a>éŸ³é¢‘å¸¸ç”¨å‘½ä»¤</h2><ul>
<li><code>-ar[:stream_specifier] freq</code> (<em>input&#x2F;output,per-stream</em>)</li>
</ul>
<p>è®¾ç½®éŸ³é¢‘é‡‡æ ·é¢‘ç‡ã€‚å¯¹äºè¾“å‡ºæµï¼Œå®ƒé»˜è®¤è®¾ç½®ä¸ºç›¸åº”è¾“å…¥æµçš„é¢‘ç‡ã€‚å¯¹äºè¾“å…¥æµï¼Œæ­¤é€‰é¡¹ä»…å¯¹éŸ³é¢‘æŠ“å–è®¾å¤‡å’ŒåŸå§‹è§£å¤ç”¨å™¨æœ‰æ„ä¹‰ï¼Œå¹¶æ˜ å°„åˆ°ç›¸åº”çš„è§£å¤ç”¨å™¨é€‰é¡¹ã€‚</p>
<ul>
<li><code>-aq q</code> (<em>output</em>)</li>
</ul>
<p>è®¾ç½®éŸ³é¢‘è´¨é‡ï¼ˆç‰¹å®šäºç¼–è§£ç å™¨ã€VBRï¼‰ã€‚è¿™æ˜¯ -q:a çš„åˆ«åã€‚</p>
<ul>
<li><code>-ac[:stream_specifier] channels</code> (<em>input&#x2F;output,per-stream</em>)</li>
</ul>
<p>è®¾ç½®éŸ³é¢‘é€šé“æ•°ã€‚å¯¹äºè¾“å‡ºæµï¼Œå®ƒé»˜è®¤è®¾ç½®ä¸ºè¾“å…¥éŸ³é¢‘é€šé“çš„æ•°é‡ã€‚å¯¹äºè¾“å…¥æµï¼Œæ­¤é€‰é¡¹ä»…å¯¹éŸ³é¢‘æŠ“å–è®¾å¤‡å’ŒåŸå§‹è§£å¤ç”¨å™¨æœ‰æ„ä¹‰ï¼Œå¹¶æ˜ å°„åˆ°ç›¸åº”çš„è§£å¤ç”¨å™¨é€‰é¡¹ã€‚</p>
<ul>
<li><code>-acodec codec</code> (<em>input&#x2F;output</em>)</li>
</ul>
<p>è®¾ç½®éŸ³é¢‘ç¼–è§£ç å™¨ã€‚è¿™æ˜¯ <code>-codec:a</code> çš„åˆ«åã€‚</p>
<ul>
<li><code>-sample_fmt[:stream_specifier] sample_fmt</code> (<em>output,per-stream</em>)</li>
</ul>
<p>è®¾ç½®éŸ³é¢‘æ ·æœ¬æ ¼å¼ã€‚ç”¨äº<code>-sample_fmts</code>è·å–æ”¯æŒçš„ç¤ºä¾‹æ ¼å¼çš„åˆ—è¡¨ã€‚</p>
<h2 id="è§†é¢‘å¸¸ç”¨å‘½ä»¤"><a href="#è§†é¢‘å¸¸ç”¨å‘½ä»¤" class="headerlink" title="è§†é¢‘å¸¸ç”¨å‘½ä»¤"></a>è§†é¢‘å¸¸ç”¨å‘½ä»¤</h2><ul>
<li><code>-r[:stream_specifier] fps</code> (<em>input&#x2F;output,per-stream</em>)</li>
</ul>
<p>è®¾ç½®å¸§é€Ÿç‡ï¼ˆHz å€¼ã€åˆ†æ•°æˆ–ç¼©å†™ï¼‰ã€‚</p>
<p>ä½œä¸ºè¾“å…¥é€‰é¡¹ï¼Œå¿½ç•¥æ–‡ä»¶ä¸­å­˜å‚¨çš„ä»»ä½•æ—¶é—´æˆ³ï¼Œè€Œæ˜¯å‡è®¾æ’å®šå¸§é€Ÿç‡fpsç”Ÿæˆæ—¶é—´æˆ³ã€‚è¿™ä¸-å¸§ç‡ç”¨äºæŸäº›è¾“å…¥æ ¼å¼çš„é€‰é¡¹ï¼Œå¦‚ image2 æˆ– v4l2ï¼ˆåœ¨æ—§ç‰ˆæœ¬çš„ FFmpeg ä¸­æ›¾ç»æ˜¯ç›¸åŒçš„ï¼‰ã€‚å¦‚æœæœ‰ç–‘é—®ï¼Œè¯·ä½¿ç”¨-å¸§ç‡è€Œä¸æ˜¯è¾“å…¥é€‰é¡¹-rã€‚</p>
<ul>
<li><code>-fpsmax[:stream_specifier] fps</code> (<em>output,per-stream</em>)</li>
</ul>
<p>è®¾ç½®æœ€å¤§å¸§é€Ÿç‡ï¼ˆHz å€¼ã€åˆ†æ•°æˆ–ç¼©å†™ï¼‰ã€‚</p>
<p>å½“è¾“å‡ºå¸§ç‡è‡ªåŠ¨è®¾ç½®ä¸”é«˜äºæ­¤å€¼æ—¶ï¼Œé’³ä½è¾“å‡ºå¸§ç‡ã€‚åœ¨æ‰¹å¤„ç†æˆ–è¾“å…¥å¸§é€Ÿç‡è¢«é”™è¯¯åœ°æ£€æµ‹ä¸ºéå¸¸é«˜æ—¶å¾ˆæœ‰ç”¨ã€‚ä¸èƒ½ä¸ ä¸€èµ·è®¾ç½®<code>-r</code>ã€‚åœ¨æµå¤åˆ¶æœŸé—´å®ƒè¢«å¿½ç•¥ã€‚</p>
<ul>
<li><code>-s[:stream_specifier] size</code> (<em>input&#x2F;output,per-stream</em>)</li>
</ul>
<p>è®¾ç½®å¸§å¤§å°ã€‚</p>
<p>ä½œä¸ºè¾“å…¥é€‰é¡¹ï¼Œè¿™æ˜¯è§†é¢‘å¤§å°ç§æœ‰é€‰é¡¹ï¼Œè¢«ä¸€äº›è§£å¤ç”¨å™¨è¯†åˆ«ï¼Œå…¶å¸§å¤§å°è¦ä¹ˆä¸å­˜å‚¨åœ¨æ–‡ä»¶ä¸­ï¼Œè¦ä¹ˆæ˜¯å¯é…ç½®çš„â€”â€”ä¾‹å¦‚åŸå§‹è§†é¢‘æˆ–è§†é¢‘é‡‡é›†å™¨ã€‚</p>
<p>ä½œä¸ºè¾“å‡ºé€‰é¡¹ï¼Œè¿™ä¼šå°†<code>scale</code>è§†é¢‘è¿‡æ»¤å™¨æ’å…¥åˆ° ç›¸åº”è¿‡æ»¤å™¨å›¾çš„<em>æœ«å°¾</em>ã€‚è¯·ç›´æ¥ä½¿ç”¨<code>scale</code>è¿‡æ»¤å™¨å°†å…¶æ’å…¥å¼€å¤´æˆ–å…¶ä»–ä½ç½®ã€‚</p>
<p>æ ¼å¼ä¸º â€˜å®½xé«˜â€™ï¼ˆé»˜è®¤ - ä¸æºç›¸åŒï¼‰ã€‚</p>
<ul>
<li><code>-aspect[:stream_specifier] aspect</code> (<em>output,per-stream</em>)</li>
</ul>
<p>è®¾ç½®ç”±aspectæŒ‡å®šçš„è§†é¢‘æ˜¾ç¤ºå®½é«˜æ¯”ã€‚</p>
<p>spectå¯ä»¥æ˜¯æµ®ç‚¹æ•°å­—ç¬¦ä¸²ï¼Œä¹Ÿå¯ä»¥æ˜¯num : denå½¢å¼çš„å­—ç¬¦ä¸²ï¼Œå…¶ä¸­numå’Œdenæ˜¯çºµæ¨ªæ¯”çš„åˆ†å­å’Œåˆ†æ¯ã€‚ä¾‹å¦‚ï¼Œâ€œ4:3â€ã€â€œ16:9â€ã€â€œ1.3333â€å’Œâ€œ1.7777â€æ˜¯æœ‰æ•ˆçš„å‚æ•°å€¼ã€‚</p>
<p>å¦‚æœä¸ä¸€èµ·ä½¿ç”¨-vcodecå¤åˆ¶ï¼Œå®ƒå°†å½±å“å­˜å‚¨åœ¨å®¹å™¨çº§åˆ«çš„å®½é«˜æ¯”ï¼Œä½†ä¸ä¼šå½±å“å­˜å‚¨åœ¨ç¼–ç å¸§ä¸­çš„å®½é«˜æ¯”ï¼ˆå¦‚æœå­˜åœ¨ï¼‰ã€‚</p>
<ul>
<li><code>-vcodec codec</code> (<em>output</em>)</li>
</ul>
<p>è®¾ç½®è§†é¢‘ç¼–è§£ç å™¨ã€‚è¿™æ˜¯ <code>-codec:v</code> çš„åˆ«åã€‚</p>
<ul>
<li><code>-b:v rate</code></li>
</ul>
<p>ä¸»è¦æ˜¯æ§åˆ¶å¹³å‡ç ç‡ã€‚</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">ffmpeg -i input.mp4 -b:v 2000k output.mp4</span><br></pre></td></tr></table></figure>

<h3 id="æ§åˆ¶ç ç‡"><a href="#æ§åˆ¶ç ç‡" class="headerlink" title="æ§åˆ¶ç ç‡"></a>æ§åˆ¶ç ç‡</h3><p>é™¤äº†<code>-b:v</code>ï¼Œè¿˜æœ‰å…¶ä»–ä¸¤ç§æ–¹æ³•</p>
<ul>
<li><h3 id="qpï¼ˆconstant-quantizeræ’å®šé‡åŒ–å™¨æ¨¡å¼ï¼‰"><a href="#qpï¼ˆconstant-quantizeræ’å®šé‡åŒ–å™¨æ¨¡å¼ï¼‰" class="headerlink" title="-qpï¼ˆconstant quantizeræ’å®šé‡åŒ–å™¨æ¨¡å¼ï¼‰"></a><code>-qp</code>ï¼ˆconstant quantizeræ’å®šé‡åŒ–å™¨æ¨¡å¼ï¼‰</h3></li>
</ul>
<p>æ‰€è°“çš„é‡åŒ–å™¨å°±æ˜¯åˆ©ç”¨ç‰¹æ®Šç®—æ³•å°†ç”»è´¨è½¬åŒ–ä¸ºæ•°å­—ï¼Œè¿™æ ·çš„è¯æ¯ä¸€å¸§çš„ç”»è´¨éƒ½å¯ä»¥é€šè¿‡é‡åŒ–å‚æ•°æ¥åˆ¤å®šã€‚åœ¨qpæ¨¡å¼ä¸‹ï¼Œç”»è´¨è¢«åˆ†ä¸º0â€¦20â€¦40â€¦51ä¸ªçº§åˆ«ï¼Œ0å°±æ˜¯æ— æŸçš„ç”»è´¨ã€‚ç”¨qpå‹åˆ¶è§†é¢‘ï¼Œæ¯ä¸€å¸§çš„ç”»é¢éƒ½èƒ½è¾¾åˆ°è¯¥çº§åˆ«çš„è´¨é‡ï¼Œä¸¥æ ¼çš„éµå¾ªé‡åŒ–å‚æ•°æ¥ç¼–ç ï¼Œè¿™ä¹ˆä¸€æ¥ä»–çš„ç”»è´¨æ˜¯æœ€å¥½çš„ï¼Œä½“ç§¯ä¹Ÿæ˜¯æœ€å¤§çš„ï¼Œå¤§åˆ°ä½ æ— æ³•æƒ³è±¡ï¼Œæ‰€ä»¥æˆ‘ä»¬éƒ½ä¸é‡‡ç”¨è¿™ç§ç ç‡æ§åˆ¶æ¨¡å¼ã€‚</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">ffmpeg -i input.mkv -vcodec libx264 -preset ultrafast -qp 0 output.mkv</span><br></pre></td></tr></table></figure>

<ul>
<li><h3 id="crfï¼ˆconstant-rate-factoræ’å®šé€Ÿç‡å› å­æ¨¡å¼ï¼‰"><a href="#crfï¼ˆconstant-rate-factoræ’å®šé€Ÿç‡å› å­æ¨¡å¼ï¼‰" class="headerlink" title="-crfï¼ˆconstant rate factoræ’å®šé€Ÿç‡å› å­æ¨¡å¼ï¼‰"></a><code>-crf</code>ï¼ˆconstant rate factoræ’å®šé€Ÿç‡å› å­æ¨¡å¼ï¼‰</h3></li>
</ul>
<p>crfå…¶å®æ˜¯ä¸€ä¸ªæµ®åŠ¨çš„qpæ¨¡å¼ï¼Œä»–æŒ‰ç…§ç‰¹å®šçš„æ ‡å‡†ï¼Œæ ¹æ®äººä½“è‚‰çœ¼çš„ç‰¹ç‚¹ï¼Œç»™äºˆæ¯å¸§ç”»é¢ä¸åŒçš„é‡åŒ–å‚æ•°ï¼Œæœ‰äº›ç”»é¢ç”»è´¨ä½ä¸€ç‚¹ï¼Œæœ‰äº›ç”»é¢ç”»è´¨é«˜ä¸€ç‚¹å…¶å®äººçœ¼æ˜¯å¾ˆéš¾è¯†åˆ«çš„ã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥é™ä½ä¸€ç‚¹ç ç‡ï¼Œç„¶åæŠŠè¿™äº›ç ç‡ç”¨åˆ°è§†è§‰æ•æ„Ÿçš„ç”»é¢é‡Œï¼Œè¿™ä¹ˆä¸€æ¥ï¼Œç”»è´¨çš„å˜åŒ–å‡ ä¹çœ‹ä¸å‡ºæ¥ï¼Œç ç‡å´é™ä½äº†ä¸å°‘ï¼Œæ–‡ä»¶ä½“ç§¯è‡ªç„¶ä¹Ÿå˜å°äº†.</p>
<p>åœ¨ä¼˜å…ˆä¿è¯ç”»é¢è´¨é‡ï¼ˆä¹Ÿä¸å¤ªåœ¨ä¹è½¬ç æ—¶é—´ï¼‰çš„æƒ…å†µä¸‹ï¼Œä½¿ç”¨-crfå‚æ•°æ¥æ§åˆ¶è½¬ç æ˜¯æ¯”è¾ƒé€‚å®œçš„ã€‚è¿™ä¸ªå‚æ•°çš„å–å€¼èŒƒå›´ä¸º0â€”â€”51ï¼Œå…¶ä¸­0ä¸ºæ— æŸæ¨¡å¼ï¼Œæ•°å€¼è¶Šå¤§ï¼Œç”»è´¨è¶Šå·®ï¼Œç”Ÿæˆçš„æ–‡ä»¶å´è¶Šå°ã€‚ä»ä¸»è§‚ä¸Šè®²ï¼Œ18â€”â€”28æ˜¯ä¸€ä¸ªåˆç†çš„èŒƒå›´ã€‚18è¢«è®¤ä¸ºæ˜¯è§†è§‰æ— æŸçš„ï¼ˆä»æŠ€æœ¯è§’åº¦ä¸Šçœ‹å½“ç„¶è¿˜æ˜¯æœ‰æŸçš„ï¼‰ï¼Œå®ƒçš„è¾“å‡ºè§†é¢‘è´¨é‡å’Œè¾“å…¥è§†é¢‘ç›¸å½“ã€‚</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">ffmpeg -i D:\src.mov -c:v libx264 -preset veryslow -crf 18 -c:acopy D:\dest1.mp4</span><br></pre></td></tr></table></figure>

<h3 id="åˆ‡ç‰‡"><a href="#åˆ‡ç‰‡" class="headerlink" title="åˆ‡ç‰‡"></a>åˆ‡ç‰‡</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">ffmpeg -i &quot;input.mp4&quot; -ss 00:21:15 -to 00:24:50 -c copy -c:a copy &quot;output.mp4&quot;</span><br></pre></td></tr></table></figure>

<p><code>-ss</code>ï¼šèµ·å§‹æ—¶é—´</p>
<p><code>-to</code>ï¼šç»ˆæ­¢æ—¶é—´</p>
<h1 id="å‚è€ƒé“¾æ¥"><a href="#å‚è€ƒé“¾æ¥" class="headerlink" title="å‚è€ƒé“¾æ¥"></a>å‚è€ƒé“¾æ¥</h1><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/xindoo/article/details/121482547">ä½¿ç”¨ffmpegä»è§†é¢‘ä¸­æå–çº¯éŸ³é¢‘&amp;çº¯è§†é¢‘_ffmpegæå–éŸ³é¢‘-CSDNåšå®¢</a></p>
<p><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/fd3c6d02a625">FFmpegã€FFprobeã€FFplayå‘½ä»¤è¡Œä½¿ç”¨ - ç®€ä¹¦ (jianshu.com)</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/JineD/article/details/125304570">FFmpeg è½¬ç è¯­å¥çš„presetã€tuneå‚æ•°è¯´æ˜_ffmpeg preset-CSDNåšå®¢</a></p>
<p><a target="_blank" rel="noopener" href="https://ffmpeg.github.net.cn/ffmpeg.html">ffmpeg æ–‡æ¡£_ FFmpegä¸­æ–‡ç½‘ (github.net.cn)</a></p>
<p><a target="_blank" rel="noopener" href="https://ruanyifeng.com/blog/2020/01/ffmpeg.html">FFmpeg è§†é¢‘å¤„ç†å…¥é—¨æ•™ç¨‹ - é˜®ä¸€å³°çš„ç½‘ç»œæ—¥å¿— (ruanyifeng.com)</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/ETalien_/article/details/102931065">ffmpegï¼šç ç‡æ§åˆ¶æ¨¡å¼ã€ç¼–ç æ–¹å¼_ffmpeg bitrate-CSDNåšå®¢</a></p>
<p>[<a target="_blank" rel="noopener" href="https://www.cnblogs.com/frost-yen/p/5848781.html">FFmpeg] ffmpeg å¸¸ç”¨å‘½ä»¤ - æ™è¿‡ç•™ç—• - åšå®¢å›­ (cnblogs.com)</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_45902692/article/details/135032429">FFmpegâ€”â€”åœ¨Vueé¡¹ç›®ä¸­ä½¿ç”¨FFmpegï¼ˆå®‰è£…ã€é…ç½®ã€ä½¿ç”¨ã€SharedArrayBufferã€è·¨åŸŸéš”ç¦»ã€é¿å‘â€¦ï¼‰_vue ffmpeg-CSDNåšå®¢</a></p>
<p><a target="_blank" rel="noopener" href="https://ffmpegwasm.netlify.app/docs/faq/#why-ffmpegwasm-is-so-slow-comparing-to-ffmpeg">FAQ | ffmpeg.wasm (ffmpegwasm.netlify.app)</a></p>
</article><div class="post-copyright"><div class="post-copyright__author_group"><a class="post-copyright__author_img" href="/about/"><img class="post-copyright__author_img_front" src= "/img/spin.svg" data-lazy-src="/img/avatar.jpg"></a><div class="post-copyright__author_name">Rean's Blog</div><div class="post-copyright__author_desc">Enjoy technology and music</div></div><div class="post-tools" id="post-tools"><div class="post-tools-left"><div id="quit-box" onclick="RemoveRewardMask()"></div></div></div><div class="post-copyright__notice"><span class="post-copyright-info">æœ¬æ–‡æ˜¯åŸåˆ›æ–‡ç« ï¼Œé‡‡ç”¨<a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh">CC BY-NC-SA 4.0</a>åè®®ï¼Œå®Œæ•´è½¬è½½è¯·æ³¨æ˜æ¥è‡ª<a href="/">Rean's Blog</a></span></div></div><div class="post-tools-right"><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Vue/"><span class="tags-punctuation"></span>Vue<span class="tagsPageCount">18</span></a><a class="post-meta__tags" href="/tags/Vite/"><span class="tags-punctuation"></span>Vite<span class="tagsPageCount">6</span></a><a class="post-meta__tags" href="/tags/FFMpeg/"><span class="tags-punctuation"></span>FFMpeg<span class="tagsPageCount">1</span></a></div></div></div><nav class="needEndHide pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/p/866abf45/"><div class="pagination-info"><div class="label">ä¸Šä¸€ç¯‡</div><div class="prev_info">ã€å¥¥æ–¯å¡/æ°¸å¤œMinusã€‘ã€Šå¦‚æœå¯ä»¥ã€‹æˆ‘æƒ³å’Œä½ å›åˆ°é‚£å¤©ç›¸é‡ï¼ˆCoverï¼šéŸ¦ç¤¼å®‰/è”¡ä¾æ—ï¼‰ã€Synthesizer V Coverã€‘</div></div></a></div><div class="next-post pull-right"><a href="/p/d26f4c21/"><div class="pagination-info"><div class="label">ä¸‹ä¸€ç¯‡</div><div class="next_info">ã€Vite+Vueã€‘è·å–æ­Œæ›²å…ƒæ•°æ®</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="solitude st-star-smile-fill"></i><span>å–œæ¬¢è¿™ç¯‡çš„äººä¹Ÿçœ‹äº†</span><div class="relatedPosts-link"><a onclick="event.preventDefault(); toRandomPost();" href="javascript:void(0);" rel="external nofollow" data-pjax-state="">éšä¾¿é€›é€›</a></div></div><div class="relatedPosts-list"><div><a href="/p/fc02f9ee/" title="Vue+Vite+TypeScript+Electron é¡¹ç›®æ‰“åŒ…"><img class="cover" src= "/img/spin.svg" data-lazy-src="https://npm.elemecdn.com/justlovesmile-photo/cover3.jpg" alt="cover"><div class="content is-center"><div class="title">Vue+Vite+TypeScript+Electron é¡¹ç›®æ‰“åŒ…</div></div></a></div><div><a href="/p/d26f4c21/" title="ã€Vite+Vueã€‘è·å–æ­Œæ›²å…ƒæ•°æ®"><img class="cover" src= "/img/spin.svg" data-lazy-src="https://npm.elemecdn.com/justlovesmile-photo/cover4.jpg" alt="cover"><div class="content is-center"><div class="title">ã€Vite+Vueã€‘è·å–æ­Œæ›²å…ƒæ•°æ®</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-content"><div class="card-info-avatar is-center"><div class="author-info__top-group"><div class="author-info__sayhi" id="author-info__sayhi" onclick="sco.changeSayHelloText()">sayhello.morning</div></div></div><div class="avatar-img-group"><img class="avatar-img" alt="å¤´åƒ" src= "/img/spin.svg" data-lazy-src="/img/avatar.jpg"><div class="avatar-sticker"><img class="avatar-sticker-img" src= "/img/spin.svg" data-lazy-src="https://7.isyangs.cn/34/65f2e4e0423cc-34.png" alt="å¿ƒæƒ…è´´çº¸"></div></div><div class="author-info__description_group"><div class="author-info__description">åˆ†äº«è‡ªå·±å¯¹ç¼–ç¨‹çš„<b>çƒ­çˆ±</b>ï¼Œå¯¹çŸ¥è¯†æµ·æ´‹<b>æ¢ç´¢å†ç¨‹</b>ï¼Œéšæœºæ‰è½<b>æ— å‚é…å¸ƒ</b>ä»¥åŠ<b>ç¿»è°ƒ</b>ï¼ˆä¸»è¦æ˜¯éŸ³ç»¼ç±»ï¼Œåœ¨Bç«™å› ä¸ºç‰ˆæƒåŸºæœ¬è¿‡ä¸äº†å®¡ï¼ˆã€‚</div><div class="author-info__description2">ç›¸ä¿¡ä½ å¯ä»¥åœ¨è¿™é‡Œæ‰¾åˆ°å¯¹ä½ æœ‰ç”¨çš„çŸ¥è¯†å’Œæ•™ç¨‹ã€‚</div></div><div class="author-info__bottom-group"><a class="author-info__bottom-group-left" href="/about/"><div class="author-info__name">Rean</div><div class="author-info__desc">Enjoy technology and music</div></a><div class="card-info-social-icons is-center"><a class="social-icon" target="_blank" rel="noopener" href="https://github.com/Rean-Schwarze" title="Github"><i class="solitude  st-github-line"></i></a><a class="social-icon" target="_blank" rel="noopener" href="https://space.bilibili.com/6531436" title="Bilibili"><i class="solitude  st-bilibili-line"></i></a></div></div></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="solitude st-menu-line"></i><span>æ–‡ç« ç›®å½•</span></div><div class="toc-content" id="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%AE%89%E8%A3%85"><span class="toc-text">å®‰è£…</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8"><span class="toc-text">ä½¿ç”¨</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9D%E5%A7%8B%E5%8C%96%EF%BC%88%E5%9C%A8%E7%BA%BF%E5%8A%A0%E8%BD%BD%EF%BC%89"><span class="toc-text">åˆå§‹åŒ–ï¼ˆåœ¨çº¿åŠ è½½ï¼‰</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9D%E5%A7%8B%E5%8C%96%EF%BC%88%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90%E5%8A%A0%E8%BD%BD%EF%BC%89"><span class="toc-text">åˆå§‹åŒ–ï¼ˆé™æ€èµ„æºåŠ è½½ï¼‰</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8-1"><span class="toc-text">ä½¿ç”¨</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B7%B2%E7%9F%A5%E9%97%AE%E9%A2%98"><span class="toc-text">å·²çŸ¥é—®é¢˜</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Why-ffmpeg-wasm-is-so-slow-comparing-to-ffmpeg"><span class="toc-text">Why ffmpeg.wasm is so slow comparing to ffmpeg?</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#FFMpeg-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4"><span class="toc-text">FFMpeg å¸¸ç”¨å‘½ä»¤</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8A%BD%E5%8F%96%E9%9F%B3%E9%A2%91"><span class="toc-text">æŠ½å–éŸ³é¢‘</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8A%BD%E5%8F%96%E8%A7%86%E9%A2%91"><span class="toc-text">æŠ½å–è§†é¢‘</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E4%BF%A1%E6%81%AF"><span class="toc-text">æŸ¥çœ‹ä¿¡æ¯</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BD%AC%E6%8D%A2%E7%BC%96%E7%A0%81"><span class="toc-text">è½¬æ¢ç¼–ç </span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BD%AC%E6%8D%A2%E5%AE%B9%E5%99%A8"><span class="toc-text">è½¬æ¢å®¹å™¨</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E9%A2%84%E8%AE%BE-preset"><span class="toc-text">ä½¿ç”¨é¢„è®¾ -preset</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9F%B3%E9%A2%91%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4"><span class="toc-text">éŸ³é¢‘å¸¸ç”¨å‘½ä»¤</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A7%86%E9%A2%91%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4"><span class="toc-text">è§†é¢‘å¸¸ç”¨å‘½ä»¤</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8E%A7%E5%88%B6%E7%A0%81%E7%8E%87"><span class="toc-text">æ§åˆ¶ç ç‡</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#qp%EF%BC%88constant-quantizer%E6%81%92%E5%AE%9A%E9%87%8F%E5%8C%96%E5%99%A8%E6%A8%A1%E5%BC%8F%EF%BC%89"><span class="toc-text">-qpï¼ˆconstant quantizeræ’å®šé‡åŒ–å™¨æ¨¡å¼ï¼‰</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#crf%EF%BC%88constant-rate-factor%E6%81%92%E5%AE%9A%E9%80%9F%E7%8E%87%E5%9B%A0%E5%AD%90%E6%A8%A1%E5%BC%8F%EF%BC%89"><span class="toc-text">-crfï¼ˆconstant rate factoræ’å®šé€Ÿç‡å› å­æ¨¡å¼ï¼‰</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%87%E7%89%87"><span class="toc-text">åˆ‡ç‰‡</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%8F%82%E8%80%83%E9%93%BE%E6%8E%A5"><span class="toc-text">å‚è€ƒé“¾æ¥</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="solitude st-map-line"></i><span>æœ€è¿‘å‘å¸ƒ</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/p/8e8e2cc6/" title="ã€å²¸æ™“ã€‘Do Uï¼ˆCoverï¼šé»„å­å¼˜å‡¡ï¼‰ã€éŸ³ä¹ç¼˜è®¡åˆ’ã€‘ã€Synthesizer V Coverã€‘"><img alt="ã€å²¸æ™“ã€‘Do Uï¼ˆCoverï¼šé»„å­å¼˜å‡¡ï¼‰ã€éŸ³ä¹ç¼˜è®¡åˆ’ã€‘ã€Synthesizer V Coverã€‘" src= "/img/spin.svg" data-lazy-src="https://rean-song-bucket.oss-cn-guangzhou.aliyuncs.com/assets/cover/Do+U_cover.png"></a><div class="content"><a class="title" href="/p/8e8e2cc6/" title="ã€å²¸æ™“ã€‘Do Uï¼ˆCoverï¼šé»„å­å¼˜å‡¡ï¼‰ã€éŸ³ä¹ç¼˜è®¡åˆ’ã€‘ã€Synthesizer V Coverã€‘">ã€å²¸æ™“ã€‘Do Uï¼ˆCoverï¼šé»„å­å¼˜å‡¡ï¼‰ã€éŸ³ä¹ç¼˜è®¡åˆ’ã€‘ã€Synthesizer V Coverã€‘</a><a class="article-recent_post_categories" href="/p/8e8e2cc6/">VOCALOIDÂ·UTAU</a></div></div><div class="aside-list-item"><a class="thumbnail" href="/p/2b6e13f/" title="ã€æ˜Ÿå°˜Infinity | é—½å—è¯­ã€‘å˜‰å¹³æ­Œï¼ˆCoverï¼šç¥–å¨…çº³æƒœï¼‰ã€2025æ˜æ—¥æ–¹èˆŸæ–°æ˜¥ä¼šã€‘ã€Synthesizer V Coverã€‘"><img alt="ã€æ˜Ÿå°˜Infinity | é—½å—è¯­ã€‘å˜‰å¹³æ­Œï¼ˆCoverï¼šç¥–å¨…çº³æƒœï¼‰ã€2025æ˜æ—¥æ–¹èˆŸæ–°æ˜¥ä¼šã€‘ã€Synthesizer V Coverã€‘" src= "/img/spin.svg" data-lazy-src="https://rean-song-bucket.oss-cn-guangzhou.aliyuncs.com/assets/cover/å˜‰å¹³æ­Œ_cover.jpg"></a><div class="content"><a class="title" href="/p/2b6e13f/" title="ã€æ˜Ÿå°˜Infinity | é—½å—è¯­ã€‘å˜‰å¹³æ­Œï¼ˆCoverï¼šç¥–å¨…çº³æƒœï¼‰ã€2025æ˜æ—¥æ–¹èˆŸæ–°æ˜¥ä¼šã€‘ã€Synthesizer V Coverã€‘">ã€æ˜Ÿå°˜Infinity | é—½å—è¯­ã€‘å˜‰å¹³æ­Œï¼ˆCoverï¼šç¥–å¨…çº³æƒœï¼‰ã€2025æ˜æ—¥æ–¹èˆŸæ–°æ˜¥ä¼šã€‘ã€Synthesizer V Coverã€‘</a><a class="article-recent_post_categories" href="/p/2b6e13f/">VOCALOIDÂ·UTAU</a></div></div><div class="aside-list-item"><a class="thumbnail" href="/p/e7845a78/" title="ã€å²¸æ™“ã€‘åäºŒæœˆçš„å¥‡è¿¹ï¼ˆCoverï¼šæ›¹æ¨ï¼‰ã€Synthesizer V Coverã€‘"><img alt="ã€å²¸æ™“ã€‘åäºŒæœˆçš„å¥‡è¿¹ï¼ˆCoverï¼šæ›¹æ¨ï¼‰ã€Synthesizer V Coverã€‘" src= "/img/spin.svg" data-lazy-src="https://rean-song-bucket.oss-cn-guangzhou.aliyuncs.com/assets/cover/åäºŒæœˆçš„å¥‡è¿¹_cover.png"></a><div class="content"><a class="title" href="/p/e7845a78/" title="ã€å²¸æ™“ã€‘åäºŒæœˆçš„å¥‡è¿¹ï¼ˆCoverï¼šæ›¹æ¨ï¼‰ã€Synthesizer V Coverã€‘">ã€å²¸æ™“ã€‘åäºŒæœˆçš„å¥‡è¿¹ï¼ˆCoverï¼šæ›¹æ¨ï¼‰ã€Synthesizer V Coverã€‘</a><a class="article-recent_post_categories" href="/p/e7845a78/">VOCALOIDÂ·UTAU</a></div></div><div class="aside-list-item"><a class="thumbnail" href="/p/5871d67/" title="woff å­—ä½“åæ‰’æ–¹æ¡ˆ"><img alt="woff å­—ä½“åæ‰’æ–¹æ¡ˆ" src= "/img/spin.svg" data-lazy-src="https://npm.elemecdn.com/justlovesmile-photo/cover3.jpg"></a><div class="content"><a class="title" href="/p/5871d67/" title="woff å­—ä½“åæ‰’æ–¹æ¡ˆ">woff å­—ä½“åæ‰’æ–¹æ¡ˆ</a><a class="article-recent_post_categories" href="/p/5871d67/">ç ”ç©¶</a></div></div><div class="aside-list-item"><a class="thumbnail" href="/p/204d99f1/" title="ã€MyBatisã€‘ç”Ÿå‘½å‘¨æœŸ"><img alt="ã€MyBatisã€‘ç”Ÿå‘½å‘¨æœŸ" src= "/img/spin.svg" data-lazy-src="https://npm.elemecdn.com/justlovesmile-photo/cover8.JPG"></a><div class="content"><a class="title" href="/p/204d99f1/" title="ã€MyBatisã€‘ç”Ÿå‘½å‘¨æœŸ">ã€MyBatisã€‘ç”Ÿå‘½å‘¨æœŸ</a><a class="article-recent_post_categories" href="/p/204d99f1/">å­¦ä¹ </a></div></div></div></div></div></div></main><footer id="footer"><div id="st-footer-bar"><div class="footer-logo"><span class="solitude">Rean's Blog</span></div><div class="footer-bar-description">æ¥è‡ªRean's Blog - Enjoy technology and musicçš„æ–‡ç« </div><a class="footer-bar-link" href="/">äº†è§£æ›´å¤š</a></div><div id="footer_deal"><a class="deal_link" target="_blank" rel="noopener" href="https://github.com/Rean-Schwarze" title="Github"><i class="solitude  st-github-line"></i></a><a class="deal_link" target="_blank" rel="noopener" href="https://space.bilibili.com/6531436" title="Bilibili"><i class="solitude  st-bilibili-line"></i></a></div><div id="st-footer"></div><div id="footer-bar"><div class="footer-bar-links"><div class="footer-bar-left"><div class="copyright">Â© 2024 - 2025 By&nbsp;<a class="footer-bar-link" href="/">Rean</a></div></div><div class="footer-bar-right"><a class="footer-bar-link" target="_blank" rel="noopener" href="https://github.com/valor-x/hexo-theme-solitude" alt="ä¸»é¢˜">ä¸»é¢˜</a><a class="footer-bar-link cc" href="/null" aria-label="copyright"><i class="solitude st-copyright-line"></i><i class="solitude st-creative-commons-by-line"></i><i class="solitude st-creative-commons-nc-line"></i><i class="solitude st-creative-commons-nd-line"></i></a></div></div></div></footer></div><!-- right_menu--><div id="rightMenu"><div class="rightMenu-group rightMenu-small"><div class="rightMenu-item" id="menu-backward"><i class="solitude st-arrow-left-line"></i></div><div class="rightMenu-item" id="menu-forward"><i class="solitude st-arrow-right-line"></i></div><div class="rightMenu-item" id="menu-refresh"><i class="solitude st-restart-line"></i></div><div class="rightMenu-item" id="menu-top"><i class="solitude st-arrow-up-line"></i></div></div><div class="rightMenu-group rightMenu-line rightMenuPlugin"><div class="rightMenu-item" id="menu-copytext"><i class="solitude st-copy-fill"></i><span>å¤åˆ¶é€‰ä¸­æ–‡æœ¬</span></div><div class="rightMenu-item" id="menu-pastetext"><i class="solitude st-clipboard-fill"></i><span>ç²˜è´´æ–‡æœ¬</span></div><div class="rightMenu-item" id="menu-newwindow"><i class="solitude st-window-fill"></i><span>æ–°çª—å£æ‰“å¼€</span></div><div class="rightMenu-item" id="menu-copylink"><i class="solitude st-link-line"></i><span>å¤åˆ¶é“¾æ¥åœ°å€</span></div><div class="rightMenu-item" id="menu-copyimg"><i class="solitude st-copy-fill"></i><span>å¤åˆ¶æ­¤å›¾ç‰‡</span></div><div class="rightMenu-item" id="menu-downloadimg"><i class="solitude st-download-cloud-fill"></i><span>ä¸‹è½½æ­¤å›¾ç‰‡</span></div><div class="rightMenu-item" id="menu-search"><i class="solitude st-search-line"></i><span>ç«™å†…æœç´¢</span></div><div class="rightMenu-item" id="menu-music-toggle"><i class="solitude st-play-fill"></i><span>æ’­æ”¾éŸ³ä¹</span></div><div class="rightMenu-item" id="menu-music-back"><i class="solitude st-skip-back-fill"></i><span>åˆ‡æ¢åˆ°ä¸Šä¸€é¦–</span></div><div class="rightMenu-item" id="menu-music-forward"><i class="solitude st-skip-forward-fill"></i><span>åˆ‡æ¢åˆ°ä¸‹ä¸€é¦–</span></div><div class="rightMenu-item" id="menu-music-copyMusicName"><i class="solitude st-copy-fill"></i><span>å¤åˆ¶æ­Œå</span></div></div><div class="rightMenu-group rightMenu-line rightMenuOther"><div class="rightMenu-item" id="menu-randomPost" onclick="toRandomPost()||rm.hideRightMenu()"><i class="solitude st-signal-tower-fill"></i><span>éšæœºçŸ­æ–‡</span></div><div class="rightMenu-item" onclick="pjax.loadUrl('/categories/')||rm.hideRightMenu()"><i class="solitude st-checkbox-multiple-blank-fill"></i><span>å…¨éƒ¨åˆ†ç±»</span></div><div class="rightMenu-item" onclick="pjax.loadUrl('/tags/')||rm.hideRightMenu()"><i class="solitude st-price-tag-fill"></i><span>å…¨éƒ¨æ ‡ç­¾</span></div></div><div class="rightMenu-group rightMenu-line rightMenuOther"><div class="rightMenu-item" id="menu-darkmode" onclick="sco.switchDarkMode()"><i class="solitude st-moon-clear-fill"></i><span class="menu-darkmode-text">æ·±è‰²æ¨¡å¼</span></div><div class="rightMenu-item" id="menu-translate"><i class="solitude st-panben-line"></i><span>è½‰ç‚ºç¹é«”</span></div></div></div><div id="rightmenu-mask"></div><!-- inject body--><div><script src="/js/utils.js?v=1.8.10"></script><script src="/js/main.js?v=1.8.10"></script><script src="/js/third_party/waterfall.min.js?v=1.8.10"></script><script src="https://cdn.staticfile.net/pjax/0.2.8/pjax.min.js"></script><script src="/js/third_party/universe.min.js?v=1.8.10"></script><script>dark()
</script><script src="/js/tw_cn.js?v=1.8.10"></script><script src="https://cdn.staticfile.net/vanilla-lazyload/19.1.3/lazyload.iife.min.js"></script><script src="https://cdn.staticfile.net/node-snackbar/0.1.16/snackbar.min.js"></script><script src="https://cdn.staticfile.net/fancyapps-ui/5.0.36/fancybox/fancybox.umd.min.js"></script><script src="https://cdn.staticfile.net/Swiper/11.0.5/swiper-bundle.min.js"></script><script>var meting_api = 'https://meting.qjqq.cn/?server=:server&type=:type&id=:id&auth=:auth&r=:r';</script><script src="https://cdn.staticfile.net/aplayer/1.10.1/APlayer.min.js"></script><script src="https://cdn.staticfile.net/meting/2.0.1/Meting.min.js"></script><script>const coverColorConfig = {
    api: 'https://api.qjqq.cn/api/Imgcolor?img=',
    time: 43200000
}</script><script src="/js/covercolor/api.js?v=1.8.10"></script><script src="/js/music.js?v=1.8.10"></script><script src="https://cdn.staticfile.net/pace/1.2.4/pace.min.js"></script><script src="/js/right_menu.js?v=1.8.10"></script><div class="js-pjax"><script defer pjax src="https://cdn.staticfile.net/pearssauce-busuanzi/1.0.0/bsz.pure.min.js"></script></div></div><!-- newest comment--><!-- pjax--><script>const pjax = new Pjax({
    elements: 'a:not([target="_blank"])',
    selectors: ['title','#body-wrap','#site-config','meta[name="description"]','.js-pjax','meta[property^="og:"]','#config-diff'],
    cacheBust: false,
    analytics: false,
    scrollRestoration: false
})

document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
})

document.addEventListener('pjax:complete', () => {
    window.refreshFn()

    document.querySelectorAll('script[data-pjax]').forEach(item => {
        const newScript = document.createElement('script')
        const content = item.text || item.textContent || item.innerHTML || ""
        Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
        newScript.appendChild(document.createTextNode(content))
        item.parentNode.replaceChild(newScript, item)
    })

    GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

})

document.addEventListener('pjax:error', (e) => {
    if (e.request.status === 404) {
        pjax.loadUrl('/404.html')
    }
})</script><!-- theme--><script>initTheme = () => {
    let isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
    const cachedMode = utils.saveToLocal.get('theme');
    if (cachedMode === undefined) {
        const nowMode =
            isDarkMode ? 'dark' : 'light'
        document.documentElement.setAttribute('data-theme', nowMode);
    } else {
        document.documentElement.setAttribute('data-theme', cachedMode);
    }
    is_rm && rm.mode(cachedMode === 'dark' && isDarkMode)
}
initTheme()</script><!-- google adsense--><!-- search--><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">æœç´¢</span><button class="search-close-button"><i class="solitude st-close-fill"></i></button></nav><div class="search-wrap"><div class="search-box"><input class="search-box-input" id="search-input" type="text" autocomplete="off" spellcheck="false" autocorrect="off" autocapitalize="off" placeholder="è¾“å…¥å…³é”®è¯å¿«é€ŸæŸ¥æ‰¾"></div><div id="search-results"><div id="search-hits"></div></div><div id="search-pagination"></div><div id="search-tips"></div></div></div><div id="search-mask"></div></div><script src="/js/search/local.js?v=1.8.10"></script><!-- music--><div class="needEndHide" id="nav-music" onclick="sco.musicToggle()"><div id="nav-music-hoverTips">éŸ³ä¹å·²æš‚åœ</div><meting-js id="421801417" server="netease" type="playlist" mutex="true" preload="none" data-lrctype="0" order="random" theme="var(--efu-main)"></meting-js></div></body></html><script>const posts=["p/8e8e2cc6/","p/2b6e13f/","p/e7845a78/","p/5871d67/","p/204d99f1/","p/b585efd0/","p/122902e7/","p/683f7c8e/","p/36b252a1/","p/bbd98f0d/","p/1b320550/","p/30cd73ca/","p/332adb42/","p/4f877c1e/","p/677c7789/","p/f7f0a5f3/","p/9b5a538c/","p/37360bc0/","p/bb996d5/","p/364ea8cc/","p/a027699d/","p/21cdaec5/","p/37c37880/","p/a02febe4/","p/d1ec0e4e/","p/25d2b878/","p/8324e4bc/","p/6021f67a/","p/305331f0/","p/66be4b4/","p/de2d10bc/","p/e6628f8e/","p/4131eeff/","p/27705e17/","p/74e1a37c/","p/b5223f80/","p/9b8bc45a/","p/c9cb7159/","p/82c942ab/","p/4c19fcc6/","p/27446c6a/","p/9f38852a/","p/2516f5f2/","p/b27c77b3/","p/7a3264f/","p/7beadfaa/","p/e1d9906f/","p/a440b512/","p/a46aa116/","p/fe8dd3bd/","p/51c99199/","p/91b418a/","p/421add40/","p/9d7a18c7/","p/26345198/","p/fa30e874/","p/dea9a817/","p/59203ba6/","p/e5616c72/","p/971e9859/","p/d7f6ccff/","p/1b2ec1c2/","p/a0d1cef9/","p/a58b6af0/","p/9381aa6d/","p/38b8becb/","p/d0a26095/","p/2b3bdada/","p/ba70636/","p/374630f5/","p/a964a243/","p/a06e9899/","p/ef9a99de/","p/108f7c52/","p/a91c1846/","p/413576cf/","p/9ee60c65/","p/e74db628/","p/888c8bf3/","p/477dbe08/","p/38e8a510/","p/dfb41864/","p/b0e3506b/","p/e17fd725/","p/e1fe458c/","p/636cfdea/","p/7b854cb7/","p/b3a61240/","p/64f43fb4/","p/800f9a11/","p/4a48b34c/","p/b3641215/","p/53bc1fc9/","p/fc02f9ee/","p/25b929f6/","p/dd30b42/","p/3aa261db/","p/fc078742/","p/22c9d1d0/","p/33fc02d2/","p/70335ae0/","p/f32ef110/","p/f756486c/","p/8dd4b91f/","p/a290d941/","p/61a8a4ef/","p/c2d0bb20/","p/9770d71c/","p/41bd2aed/","p/bfebe40b/","p/6b4006e6/","p/b5696360/","p/53ab7115/","p/e6fa9b9/","p/866abf45/","p/b718b92a/","p/d26f4c21/","p/bc5d6bbe/","p/5a18917b/","p/5f2b1e2f/","p/2532a2ee/","p/4337b2c0/","p/e042d029/","p/9b4a91e5/","p/9d8ce868/","p/a69f6a48/","p/f9b9edb2/","p/cbe55d0/","p/156c59d0/","p/d4d6f818/","p/2574cf15/","p/a0efc292/","p/ec2ecf28/","p/85f11265/","p/db95e6f5/","p/a8296e6d/","p/4cc89a71/","p/d0fe2d0f/","p/ffab2f6b/","p/95d9f91e/","p/7f869365/","p/5b246b1b/","p/a9c92fa9/","p/7d49fec0/","p/a9a25fcd/","p/43bb383e/","p/b9aeb4/","p/52eaf228/","p/4be90d2f/","p/ed500d41/","p/dcfbc8e5/","p/240e5e52/","p/18cda1b3/","p/66a6c396/","p/5f33341/","p/f9bef31e/","p/acac46b/","p/a4189438/","p/ae6b0147/","p/4e982f2d/","p/403e0cac/","p/495b9f0f/","p/8e966ab9/","p/f6e1007e/","p/6f562d19/","p/10eac329/","p/cc53cf58/","p/4f2beac6/","p/73e2aa1/","p/c677e75e/","p/3f13b766/","p/cc30f00/","p/807cab5e/","p/5b5991e4/","p/e941ffc/"];function toRandomPost(){ pjax.loadUrl('/'+posts[Math.floor(Math.random()*posts.length)]); }</script>